I created a batch file that patches your ROM to connect to WFC.
Just drop your NDS file onto the .bat file included.
<img width="278" height="28" alt="image" src="https://github.com/user-attachments/assets/eb5fc27b-6a09-4ad2-b783-06f5f68574d0" />

It will generate a newly patched NDS file.
<img width="217" height="50" alt="image" src="https://github.com/user-attachments/assets/ab8aeff1-8b1e-4c2a-8ac1-f4e67221abdc" />

With this, you can connect to WFC without changing your DNS settings.
Note: Make sure to clear any manual DNS settings.
Set Auto-obtain DNS to Yes.
<img width="256" height="382" alt="image" src="https://github.com/user-attachments/assets/eeaf8729-03fe-4f9e-9ba3-3a7c66130369" />


So even if your issue is caused by your ISP, youâ€™ll still be able to connect to WFC. 

You need to use version 1.6 of wfcPatcher.exe for this to work.
The .bat file must be placed in the same directory as the .exe.
https://github.com/AdmiralCurtiss/WfcPatcher/releases/tag/v1.6 
